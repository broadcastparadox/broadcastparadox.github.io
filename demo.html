<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Broadcast Paradox - Anomaly Scanner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #222;
            color: #fff;
        }
        .terminal {
            margin-top: 20px;
        }
        #redeemed-code {
            font-weight: bold;
            color: #0f0;
        }
    </style>
</head>
<body>
    <h1>Decrypting Signals</h1>
    <button id="redeem-button">Scan for Anomaly</button>
    <div class="terminal">
        <p id="redeemed-code">Redeemed Code: None</p>
    </div>
    
    <script>
        // Example: Base64-encoded list of unique IDs (this is what you would generate)
        let encodedIDs = "WyJJRC0xMjM0NTYiLCJJRDI3ODkxMCJd"; // Base64 encoded list of IDs

        // Decode the list of IDs from Base64
        let uniqueIDs = JSON.parse(atob(encodedIDs));

        // Track redeemed codes
        let redeemedIDs = [];

        // Function to redeem a code
        function redeemCode() {
            if (uniqueIDs.length === 0) {
                console.log("No more redeemable codes available.");
                return;
            }

            // 5% chance to trigger an anomaly
            if (Math.random() < 0.05) {
                // Select a random code from the list that hasn't been redeemed
                let availableCodes = uniqueIDs.filter(code => !redeemedIDs.includes(code));

                if (availableCodes.length > 0) {
                    let randomCode = availableCodes[Math.floor(Math.random() * availableCodes.length)];
                    redeemedIDs.push(randomCode); // Mark as redeemed

                    // Display the redeemed code
                    console.log("Redeemed Code:", randomCode);

                    // Update the display in the game (for example)
                    document.getElementById('redeemed-code').textContent = randomCode;
                } else {
                    console.log("All codes have been redeemed.");
                }
            } else {
                console.log("No anomaly detected.");
            }
        }

        // Example button to redeem a code
        document.getElementById('redeem-button').addEventListener('click', redeemCode);
    </script>
</body>
</html>
